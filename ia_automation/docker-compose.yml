
services:
  flowise:
    image: flowiseai/flowise:latest
    container_name: flowise
    ports:
      - "3000:3000"
    environment:
      - FLOWISE_USERNAME=admin
      - FLOWISE_PASSWORD=admin123
      - FLOWISE_SECRETKEY=supersecretkey
    volumes:
      - ./data/flowise:/root/.flowise
      - ./flowise-flows:/app/flows
    restart: unless-stopped
    networks:
      - employe_network


  
  qdrant:
    image: qdrant/qdrant:v1.7.4  # Version stable avec dashboard
    container_name: qdrant
    ports:
      - "6333:6333"
      - "6334:6334"
    environment:
      - QDRANT__WEB_UI__ENABLED=true
    volumes:
      - ./qdrant_storage:/qdrant/storage
    restart: unless-stopped
    networks:
      - employe_network

  # qdrant:
  #   image: qdrant/qdrant:latest
  #   container_name: qdrant
  #   ports:
  #     - "6333:6333"
  #     - "6334:6334"
  #   environment:
  #     - QDRANT__WEB_UI__ENABLED=true
  #     - QDRANT__SERVICE__HTTP_HOST=0.0.0.0
  #     - QDRANT__SERVICE__HTTP_PORT=6333
  #   volumes:
  #     - qdrant_storage:/qdrant/storage
  #   restart: unless-stopped
  #   networks:
  #     - employe_network

  # volumes:
  #   qdrant_storage:


  n8n:
    image: n8nio/n8n
    container_name: n8n
    ports:
      - "5678:5678"
    environment:
      - WEBHOOK_URL=http://localhost:5678/
      - N8N_BASIC_AUTH_ACTIVE=true
      - N8N_BASIC_AUTH_USER=admin
      - N8N_BASIC_AUTH_PASSWORD=admin
      - GENERIC_TIMEZONE=Africa/Nairobi
      - N8N_RUNNERS_ENABLED=true
      - N8N_PERSONALIZATION_ENABLED=false
    volumes:
      - n8n_data:/home/node/.n8n
    restart: unless-stopped
    networks:
      - employe_network

networks:
  employe_network:
    driver: bridge

volumes:
  qdrant_data:
  n8n_data:



